<!-- 
Name	: FOT_OD_SettingsView
Description: OD settings object view custom lightning component
Owner 	: Infosys
Date  	: 08/05/2018
--> 

<aura:component implements="lightning:actionOverride,force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId" 
                access="global" controller="FOT_ODSettingsController">
    <!-- aura attributes declaration -->
    <aura:attribute name="odSettings" type="FS_OD_Settings__c" />
    <aura:attribute name="recordId" type="Id" />
    <aura:attribute name="ODrecordId" type="Id" />
    <aura:attribute name="profileAccess" type="String" />
    <aura:attribute name="editClick" type="boolean" default="false" />
    <aura:attribute name="inView" type="boolean" default="true" />
    <aura:attribute name="spinner" type="Boolean" default="false"/>
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>    
    <aura:handler name="onSaveSuccess" event="force:recordSaveSuccess" action="{!c.handleSaveSuccess}"/>
    
    <!-- Spinner start -->
    <aura:if isTrue="{!v.spinner}">
        <div class="slds-spinner_container">
            <lightning:spinner aura:id="spinner" variant="brand" size="medium"/>
        </div>
    </aura:if>
    <!-- Spinner End -->
    
    <div aura:id="odreadDiv" class="slds-hide">
        <!-- Adding and aligning 'Edit' button -->
        <div class="slds-clearfix">
            <div class="slds-float_right slds-m-top_small slds-m-bottom_small">
                <aura:if isTrue="{!v.profileAccess != 'MDM Read only'}"> <!-- Hiding button for 'MDM Read only' users-->
                    <button class="slds-button slds-button--brand" onclick="{!c.navigateToEdit}">Edit</button>
                </aura:if>
            </div>
        </div>
        <!-- Adding Edit button End -->
        
        <!-- Standard OD settings record view -->
        <force:recordView recordId="{!v.ODrecordId}"/>
    </div>
    
</aura:component>